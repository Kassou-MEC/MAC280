<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity Endless Runner ‚Äî Player Movement Tutorial</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Outfit:wght@300;400;600;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-primary: #0a0a0f;
    --bg-secondary: #12121a;
    --bg-card: #1a1a28;
    --bg-code: #0d1117;
    --accent-cyan: #00e5ff;
    --accent-magenta: #ff4081;
    --accent-yellow: #ffe040;
    --accent-green: #69f0ae;
    --accent-purple: #ce93ff;
    --text-primary: #f0f0f8;
    --text-secondary: #c0c0d8;
    --text-dim: #8a8aaa;
    --border-subtle: rgba(255,255,255,0.08);
    --glow-cyan: 0 0 40px rgba(0,229,255,0.15);
    --glow-magenta: 0 0 40px rgba(255,64,129,0.15);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'Outfit', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  /* ‚îÄ‚îÄ‚îÄ SLIDE CONTAINER ‚îÄ‚îÄ‚îÄ */
  .slides-wrapper {
    width: 100vw;
    height: 100vh;
    position: relative;
  }

  .slide {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 60px 80px;
    opacity: 0;
    pointer-events: none;
    transform: translateY(30px);
    transition: opacity 0.6s cubic-bezier(0.22, 1, 0.36, 1), transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    overflow-y: auto;
  }

  .slide.active {
    opacity: 1;
    pointer-events: all;
    transform: translateY(0);
  }

  .slide-inner {
    max-width: 1100px;
    width: 100%;
  }

  /* ‚îÄ‚îÄ‚îÄ BACKGROUND GRID ‚îÄ‚îÄ‚îÄ */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(255,255,255,0.025) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.025) 1px, transparent 1px);
    background-size: 60px 60px;
    pointer-events: none;
    z-index: 0;
  }

  body::after {
    content: '';
    position: fixed;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(ellipse at 30% 20%, rgba(0,229,255,0.05) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(255,64,129,0.05) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  .slide { z-index: 1; }

  /* ‚îÄ‚îÄ‚îÄ TYPOGRAPHY ‚îÄ‚îÄ‚îÄ */
  .slide-number {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--accent-cyan);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 12px;
    opacity: 0.85;
  }

  h1 {
    font-family: 'Outfit', sans-serif;
    font-weight: 900;
    font-size: clamp(2.2rem, 5vw, 4rem);
    line-height: 1.1;
    margin-bottom: 20px;
    letter-spacing: -1px;
    color: #ffffff;
  }

  h2 {
    font-family: 'Outfit', sans-serif;
    font-weight: 700;
    font-size: clamp(1.6rem, 3.5vw, 2.6rem);
    line-height: 1.2;
    margin-bottom: 16px;
    letter-spacing: -0.5px;
    color: #f4f4ff;
  }

  h3 {
    font-family: 'Outfit', sans-serif;
    font-weight: 600;
    font-size: 1.3rem;
    margin-bottom: 10px;
    color: var(--text-primary);
  }

  p, li {
    font-size: 1.05rem;
    line-height: 1.75;
    color: var(--text-secondary);
    font-weight: 300;
  }

  strong { color: var(--text-primary); font-weight: 600; }
  code { color: var(--accent-cyan); font-family: 'JetBrains Mono', monospace; font-size: 0.9em; }

  .highlight { color: var(--accent-cyan); font-weight: 600; }
  .highlight-m { color: var(--accent-magenta); font-weight: 600; }
  .highlight-y { color: var(--accent-yellow); font-weight: 600; }
  .highlight-g { color: var(--accent-green); font-weight: 600; }

  /* ‚îÄ‚îÄ‚îÄ TITLE SLIDE ‚îÄ‚îÄ‚îÄ */
  .title-slide {
    text-align: center;
  }

  .title-badge {
    display: inline-block;
    padding: 6px 18px;
    border: 1px solid var(--accent-cyan);
    border-radius: 100px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 30px;
    color: var(--accent-cyan);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 30px;
    background: rgba(0,229,255,0.05);
  }

  .title-slide h1 {
    font-size: clamp(2.8rem, 6vw, 5rem);
    background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 24px;
  }

  .title-slide .subtitle {
    font-size: 1.2rem;
    color: var(--text-secondary);
    font-weight: 300;
    max-width: 600px;
    margin: 0 auto 40px;
  }

  .title-tags {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .title-tags span {
    padding: 6px 16px;
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-secondary);
  }

  /* ‚îÄ‚îÄ‚îÄ CODE BLOCKS ‚îÄ‚îÄ‚îÄ */
  .code-block {
    background: var(--bg-code);
    border: 1px solid var(--border-subtle);
    border-radius: 12px;
    overflow: hidden;
    margin: 16px 0;
    font-size: 14px;
  }

  .code-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 16px;
    background: rgba(255,255,255,0.03);
    border-bottom: 1px solid var(--border-subtle);
  }

  .code-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }

  .code-dot.red { background: #ff5f56; }
  .code-dot.yellow { background: #ffbd2e; }
  .code-dot.green { background: #27c93f; }

  .code-filename {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: var(--text-dim);
    margin-left: 8px;
  }

  .code-body {
    padding: 20px;
    overflow-x: auto;
  }

  .code-body pre {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13.5px;
    line-height: 1.7;
    color: #d4dae5;
    white-space: pre;
    tab-size: 4;
  }

  /* Syntax colors ‚Äî boosted for readability */
  .kw { color: #ff8b8b; }
  .tp { color: #8ecfff; }
  .fn { color: #dcb4ff; }
  .str { color: #a5d6ff; }
  .cm { color: #8895a7; font-style: italic; }
  .num { color: #ffe066; }
  .op { color: #a0a8b8; }

  /* ‚îÄ‚îÄ‚îÄ VIDEO PLACEHOLDER ‚îÄ‚îÄ‚îÄ */
  .video-placeholder {
    background: var(--bg-card);
    border: 2px dashed rgba(255,255,255,0.1);
    border-radius: 16px;
    aspect-ratio: 16/9;
    max-width: 700px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    cursor: pointer;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
    margin: 0 auto;
  }

  .video-placeholder:hover {
    border-color: rgba(0,229,255,0.3);
    background: rgba(0,229,255,0.03);
  }

  .video-play-btn {
    width: 72px;
    height: 72px;
    background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--glow-cyan);
    transition: transform 0.3s ease;
  }

  .video-placeholder:hover .video-play-btn {
    transform: scale(1.1);
  }

  .video-play-btn svg {
    width: 28px;
    height: 28px;
    fill: white;
    margin-left: 4px;
  }

  .video-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-dim);
    letter-spacing: 1px;
  }

  .video-title-label {
    font-size: 15px;
    color: var(--text-primary);
    font-weight: 400;
  }

  /* ‚îÄ‚îÄ‚îÄ CARDS / GRID ‚îÄ‚îÄ‚îÄ */
  .card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin: 24px 0;
  }

  .card {
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    border-radius: 14px;
    padding: 28px;
    transition: transform 0.3s ease, border-color 0.3s ease;
  }

  .card:hover {
    transform: translateY(-4px);
    border-color: rgba(0,229,255,0.2);
  }

  .card-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    margin-bottom: 16px;
  }

  .card-icon.cyan { background: rgba(0,229,255,0.1); color: var(--accent-cyan); }
  .card-icon.magenta { background: rgba(255,64,129,0.1); color: var(--accent-magenta); }
  .card-icon.yellow { background: rgba(255,224,64,0.1); color: var(--accent-yellow); }
  .card-icon.green { background: rgba(105,240,174,0.1); color: var(--accent-green); }
  .card-icon.purple { background: rgba(206,147,255,0.1); color: var(--accent-purple); }

  .card h3 { font-size: 1.1rem; margin-bottom: 8px; }
  .card p { font-size: 0.95rem; line-height: 1.6; }

  /* ‚îÄ‚îÄ‚îÄ DIAGRAM: LANE VISUAL ‚îÄ‚îÄ‚îÄ */
  .lane-diagram {
    display: flex;
    justify-content: center;
    gap: 0;
    margin: 30px 0;
    position: relative;
  }

  .lane {
    width: 140px;
    height: 200px;
    border: 2px solid var(--border-subtle);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    transition: all 0.4s ease;
    position: relative;
    cursor: pointer;
  }

  .lane:first-child { border-radius: 14px 0 0 14px; }
  .lane:last-child { border-radius: 0 14px 14px 0; }

  .lane.active-lane {
    background: rgba(0,229,255,0.06);
    border-color: var(--accent-cyan);
    box-shadow: var(--glow-cyan);
  }

  .lane-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: var(--text-dim);
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .lane-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 28px;
    font-weight: 700;
    color: var(--text-dim);
  }

  .lane.active-lane .lane-value { color: var(--accent-cyan); }
  .lane.active-lane .lane-label { color: var(--accent-cyan); }

  .player-dot {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
    border-radius: 8px;
    position: absolute;
    transition: left 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    top: 50%;
    transform: translateY(-50%) translateX(-50%);
    box-shadow: 0 0 20px rgba(0,229,255,0.4);
    z-index: 2;
  }

  .lane-instructions {
    text-align: center;
    margin-top: 16px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-dim);
  }

  .lane-instructions kbd {
    display: inline-block;
    padding: 3px 10px;
    background: var(--bg-card);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 6px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: var(--text-primary);
    margin: 0 2px;
  }

  /* ‚îÄ‚îÄ‚îÄ STEP LIST ‚îÄ‚îÄ‚îÄ */
  .step-list {
    list-style: none;
    counter-reset: steps;
    margin: 20px 0;
  }

  .step-list li {
    counter-increment: steps;
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 14px 0;
    border-bottom: 1px solid var(--border-subtle);
  }

  .step-list li:last-child { border-bottom: none; }

  .step-list li::before {
    content: counter(steps, decimal-leading-zero);
    font-family: 'JetBrains Mono', monospace;
    font-size: 14px;
    font-weight: 700;
    color: var(--accent-cyan);
    min-width: 30px;
    padding-top: 2px;
  }

  /* ‚îÄ‚îÄ‚îÄ COMPARISON TABLE ‚îÄ‚îÄ‚îÄ */
  .compare-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 0.95rem;
  }

  .compare-table th {
    text-align: left;
    padding: 14px 18px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: var(--accent-cyan);
    letter-spacing: 2px;
    text-transform: uppercase;
    border-bottom: 2px solid var(--accent-cyan);
    background: rgba(0,229,255,0.03);
  }

  .compare-table td {
    padding: 14px 18px;
    border-bottom: 1px solid var(--border-subtle);
    color: var(--text-secondary);
  }

  .compare-table tr:hover td {
    background: rgba(255,255,255,0.02);
  }

  /* ‚îÄ‚îÄ‚îÄ SPLIT LAYOUT ‚îÄ‚îÄ‚îÄ */
  .split {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: start;
  }

  .split-wide-code {
    display: grid;
    grid-template-columns: 1.3fr 0.7fr;
    gap: 40px;
    align-items: start;
  }

  /* ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ */
  .nav-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 64px;
    background: rgba(10,10,15,0.92);
    backdrop-filter: blur(20px);
    border-top: 1px solid var(--border-subtle);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 32px;
    z-index: 100;
  }

  .nav-progress {
    position: absolute;
    top: 0;
    left: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta));
    transition: width 0.4s ease;
  }

  .nav-btn {
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    color: var(--text-secondary);
    padding: 10px 22px;
    border-radius: 10px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .nav-btn:hover {
    background: rgba(0,229,255,0.08);
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
  }

  .nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .nav-dots {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .nav-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--text-dim);
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
  }

  .nav-dot.active {
    background: var(--accent-cyan);
    box-shadow: 0 0 10px rgba(0,229,255,0.5);
    width: 24px;
    border-radius: 4px;
  }

  .nav-dot:hover:not(.active) {
    background: var(--text-secondary);
  }

  .nav-slide-count {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-dim);
  }

  /* ‚îÄ‚îÄ‚îÄ CALLOUT ‚îÄ‚îÄ‚îÄ */
  .callout {
    background: rgba(0,229,255,0.05);
    border-left: 3px solid var(--accent-cyan);
    border-radius: 0 10px 10px 0;
    padding: 18px 22px;
    margin: 16px 0;
  }

  .callout.warning {
    background: rgba(255,224,64,0.05);
    border-left-color: var(--accent-yellow);
  }

  .callout.danger {
    background: rgba(255,64,129,0.05);
    border-left-color: var(--accent-magenta);
  }

  .callout-title {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .callout .callout-title { color: var(--accent-cyan); }
  .callout.warning .callout-title { color: var(--accent-yellow); }
  .callout.danger .callout-title { color: var(--accent-magenta); }

  .callout p { color: var(--text-secondary); }

  /* ‚îÄ‚îÄ‚îÄ FLOW DIAGRAM ‚îÄ‚îÄ‚îÄ */
  .flow-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin: 24px 0;
    flex-wrap: wrap;
  }

  .flow-box {
    padding: 14px 22px;
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    border-radius: 10px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-secondary);
    text-align: center;
  }

  .flow-box.accent {
    border-color: var(--accent-cyan);
    color: var(--accent-cyan);
    background: rgba(0,229,255,0.05);
  }

  .flow-arrow {
    color: var(--text-dim);
    font-size: 20px;
  }

  /* ‚îÄ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ‚îÄ */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .slide.active .anim {
    animation: fadeUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    opacity: 0;
  }

  .slide.active .anim.d1 { animation-delay: 0.1s; }
  .slide.active .anim.d2 { animation-delay: 0.2s; }
  .slide.active .anim.d3 { animation-delay: 0.3s; }
  .slide.active .anim.d4 { animation-delay: 0.4s; }
  .slide.active .anim.d5 { animation-delay: 0.5s; }

  /* ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ */
  @media (max-width: 900px) {
    .slide { padding: 40px 28px 80px; }
    .split, .split-wide-code { grid-template-columns: 1fr; }
    .lane { width: 100px; height: 150px; }
    .card-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<div class="slides-wrapper" id="slidesWrapper">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 0: TITLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide active" data-slide="0">
    <div class="slide-inner title-slide">
      <div class="anim d1 title-badge">MAC 280 ‚Äî Game Programming</div><br>
      <div class="anim d1 title-badge">Prof. Khalid Kassou</div>
      <h1 class="anim d2">Endless Runner<br>Player Movement</h1>
      <p class="anim d3 subtitle">Build a complete player controller in Unity ‚Äî from forward movement with CharacterController to smooth lane switching with keyboard input.</p>
      <div class="anim d4 title-tags">
        <span>C#</span>
        <span>Unity</span>
        <span>CharacterController</span>
        <span>Input System</span>
        <span>Lane Switching</span>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 1: OVERVIEW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="1">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part I ‚Äî Overview</div>
      <h2 class="anim d1">What We're Building</h2>
      <p class="anim d2" style="max-width:750px; margin-bottom:28px;">An endless runner player controller in two phases ‚Äî first, constant forward movement, then smooth left/right lane switching.</p>
      <div class="card-grid anim d3">
        <div class="card">
          <div class="card-icon cyan">üéÆ</div>
          <h3>Phase 1: Forward Movement</h3>
          <p>Use Unity's <span class="highlight">CharacterController</span> component to move the player forward continuously at a configurable speed.</p>
        </div>
        <div class="card">
          <div class="card-icon magenta">‚¨Ö‚û°</div>
          <h3>Phase 2: Lane Switching</h3>
          <p>Divide the ground into 3 lanes and switch between them using arrow keys with smooth <span class="highlight-m">velocity-based</span> transitions.</p>
        </div>
        <div class="card">
          <div class="card-icon yellow">‚ö°</div>
          <h3>Key Concepts</h3>
          <p>FixedUpdate vs Update, CharacterController.Move(), input handling, smooth movement, and avoiding movement conflicts.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 2: VIDEO 1 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="2">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part I ‚Äî Video</div>
      <h2 class="anim d1">Watch: Basic Player Movement</h2>
      <p class="anim d2" style="margin-bottom: 28px; max-width: 650px;">Follow along as we set up the Unity project, add a CharacterController, and create the initial forward movement script.</p>
      <div class="anim d3" style="max-width:700px; margin:0 auto; aspect-ratio:16/9; border-radius:16px; overflow:hidden;">
    <iframe 
        width="100%" 
        height="100%" 
        src="https://www.youtube.com/embed/L3IYtYor9BE"
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
    </iframe>
</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 3: SCENE SETUP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="3">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part I ‚Äî Scene Setup</div>
      <h2 class="anim d1">Setting Up the Scene</h2>
      <ol class="step-list anim d2">
        <li>Create a <span class="highlight">3D Object ‚Üí Plane</span> for the ground. Rename it "Ground" and assign a material (e.g., dark gray).</li>
        <li>Create a <span class="highlight">3D Object ‚Üí Cube</span> for the player. Rename it "Player" and assign a distinct material (e.g., blue). Position it on top of the ground.</li>
        <li>Select the Player and click <span class="highlight">Add Component ‚Üí Character Controller</span>. This built-in Unity component handles collision-based movement without a Rigidbody.</li>
        <li>Create a new C# script: <span class="highlight">Assets ‚Üí Create ‚Üí C# Script</span>, name it <code>PlayerController</code>, and attach it to the Player object.</li>
      </ol>
      <div class="callout anim d3">
        <div class="callout-title">üí° Why CharacterController?</div>
        <p>Unlike Rigidbody-based movement, CharacterController gives you direct control over movement without physics simulation ‚Äî perfect for arcade-style runners.</p>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 4: BASIC MOVEMENT CODE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="4">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part I ‚Äî Script</div>
      <h2 class="anim d1">Basic Forward Movement</h2>
      <div class="split-wide-code">
        <div class="code-block anim d2">
          <div class="code-header">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
            <span class="code-filename">PlayerController.cs</span>
          </div>
          <div class="code-body"><pre><span class="kw">using</span> UnityEngine;

<span class="kw">public class</span> <span class="tp">PlayerController</span> : <span class="tp">MonoBehaviour</span>
{
    <span class="kw">private</span> <span class="tp">CharacterController</span> controller;
    <span class="kw">private</span> <span class="tp">Vector3</span> direction;
    <span class="kw">public</span> <span class="tp">float</span> forwardSpeed;

    <span class="kw">void</span> <span class="fn">Start</span>()
    {
        controller = <span class="fn">GetComponent</span>&lt;<span class="tp">CharacterController</span>&gt;();
    }

    <span class="kw">void</span> <span class="fn">Update</span>()
    {
        direction.z = forwardSpeed;
    }

    <span class="kw">private void</span> <span class="fn">FixedUpdate</span>()
    {
        controller.<span class="fn">Move</span>(direction * Time.deltaTime);
    }
}</pre></div>
        </div>
        <div class="anim d3">
          <h3>Line by Line</h3>
          <div class="callout" style="margin-bottom: 14px;">
            <p><span class="highlight">controller</span> ‚Äî A reference to the CharacterController component we added.</p>
          </div>
          <div class="callout" style="margin-bottom: 14px;">
            <p><span class="highlight">direction</span> ‚Äî A Vector3 that stores our movement direction each frame.</p>
          </div>
          <div class="callout" style="margin-bottom: 14px;">
            <p><span class="highlight">forwardSpeed</span> ‚Äî Public, so you can tweak it in the Unity Inspector.</p>
          </div>
          <div class="callout warning">
            <div class="callout-title">‚ö† Update vs FixedUpdate</div>
            <p>We set direction in <strong>Update</strong> (every frame) but apply movement in <strong>FixedUpdate</strong> (fixed time step) for consistent physics behavior.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 5: EXECUTION FLOW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="5">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part I ‚Äî Execution Flow</div>
      <h2 class="anim d1">How the Game Loop Works</h2>
      <p class="anim d2" style="margin-bottom: 10px; max-width: 700px;">Every frame, Unity calls <span class="highlight">Update()</span> to gather input. Then, on a fixed interval, <span class="highlight">FixedUpdate()</span> applies the actual movement.</p>
      <div class="flow-row anim d3">
        <div class="flow-box">Start()<br><span style="font-size:11px; color:var(--text-dim);">Get components</span></div>
        <span class="flow-arrow">‚Üí</span>
        <div class="flow-box accent">Update()<br><span style="font-size:11px; color:var(--accent-cyan);">Set direction</span></div>
        <span class="flow-arrow">‚Üí</span>
        <div class="flow-box accent">FixedUpdate()<br><span style="font-size:11px; color:var(--accent-cyan);">controller.Move()</span></div>
        <span class="flow-arrow">‚Üí</span>
        <div class="flow-box">Render Frame</div>
      </div>
      <div class="anim d4" style="max-width: 800px; margin: 0 auto;">
        <table class="compare-table">
          <tr>
            <th>Method</th>
            <th>Called When</th>
            <th>Best For</th>
          </tr>
          <tr>
            <td><code>Update()</code></td>
            <td>Every rendered frame (variable rate)</td>
            <td>Input detection, UI, non-physics logic</td>
          </tr>
          <tr>
            <td><code>FixedUpdate()</code></td>
            <td>Fixed time intervals (default 0.02s)</td>
            <td>Physics, CharacterController.Move()</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 6: VIDEO 2 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="6">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part II ‚Äî Video</div>
      <h2 class="anim d1">Watch: Lane Switching</h2>
      <p class="anim d2" style="margin-bottom: 28px; max-width: 650px;">In this second video, we extend the player controller to switch between three lanes using arrow key input and smooth transitions.</p>
      <div class="anim d3" style="max-width:700px; margin:0 auto; aspect-ratio:16/9; border-radius:16px; overflow:hidden;">
    <iframe 
        width="100%" 
        height="100%" 
        src="https://www.youtube.com/embed/Ski854Gk-LA" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
    </iframe>
</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 7: LANE CONCEPT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="7">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part II ‚Äî Concept</div>
      <h2 class="anim d1">The 3-Lane System</h2>
      <p class="anim d2" style="max-width: 700px; margin-bottom: 10px;">We divide the ground into three virtual lanes. A variable <code>desiredLane</code> tracks which lane the player should be in. Click the lanes or use arrow keys to see it in action!</p>
      <div class="anim d3">
        <div class="lane-diagram" id="laneDiagram">
          <div class="lane" data-lane="0" onclick="setLane(0)">
            <span class="lane-label">Left</span>
            <span class="lane-value">0</span>
          </div>
          <div class="lane active-lane" data-lane="1" onclick="setLane(1)">
            <span class="lane-label">Middle</span>
            <span class="lane-value">1</span>
          </div>
          <div class="lane" data-lane="2" onclick="setLane(2)">
            <span class="lane-label">Right</span>
            <span class="lane-value">2</span>
          </div>
          <div class="player-dot" id="playerDot"></div>
        </div>
        <div class="lane-instructions">Use <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> arrow keys or click lanes to switch</div>
      </div>
      <div class="card-grid anim d4" style="margin-top: 24px;">
        <div class="card">
          <h3><span class="highlight">desiredLane</span></h3>
          <p>An integer: <strong>0</strong> = Left, <strong>1</strong> = Middle (default), <strong>2</strong> = Right. Clamped to prevent going off-screen.</p>
        </div>
        <div class="card">
          <h3><span class="highlight-y">laneDistance</span></h3>
          <p>The horizontal gap between lane centers (default <strong>4 units</strong>). Adjust in the Inspector to match your ground width.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 8: INPUT HANDLING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="8">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part II ‚Äî Input</div>
      <h2 class="anim d1">Handling Keyboard Input</h2>
      <div class="split anim d2">
        <div>
          <div class="code-block">
            <div class="code-header">
              <span class="code-dot red"></span>
              <span class="code-dot yellow"></span>
              <span class="code-dot green"></span>
              <span class="code-filename">Input Handling</span>
            </div>
            <div class="code-body"><pre><span class="cm">// Inside Update()</span>
<span class="kw">if</span> (Input.<span class="fn">GetKeyDown</span>(KeyCode.RightArrow))
{
    desiredLane++;
    <span class="kw">if</span> (desiredLane == <span class="num">3</span>)
        desiredLane = <span class="num">2</span>;
}

<span class="kw">if</span> (Input.<span class="fn">GetKeyDown</span>(KeyCode.LeftArrow))
{
    desiredLane--;
    <span class="kw">if</span> (desiredLane == <span class="num">-1</span>)
        desiredLane = <span class="num">0</span>;
}</pre></div>
          </div>
        </div>
        <div>
          <h3>How It Works</h3>
          <ol class="step-list">
            <li><span class="highlight">GetKeyDown</span> detects the exact frame the key is first pressed ‚Äî no repeats while held.</li>
            <li>Right arrow ‚Üí <strong>increment</strong> the lane index. If it reaches 3 (out of bounds), clamp it back to 2.</li>
            <li>Left arrow ‚Üí <strong>decrement</strong> the lane index. If it reaches -1, clamp back to 0.</li>
          </ol>
          <div class="callout warning">
            <div class="callout-title">üí° Cleaner alternative</div>
            <p>You can use <code>Mathf.Clamp(desiredLane, 0, 2)</code> instead of the if-checks for cleaner code.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 9: SMOOTH LANE MOVEMENT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="9">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Part II ‚Äî Smooth Movement</div>
      <h2 class="anim d1">Smooth Lane Switching</h2>
      <p class="anim d2" style="max-width: 780px; margin-bottom: 20px;">Instead of teleporting the player, we calculate a <span class="highlight">target X position</span> from the desired lane, then feed the difference as lateral velocity into <code>direction.x</code> ‚Äî all movement flows through <code>controller.Move()</code>.</p>
      <div class="code-block anim d3" style="max-width: 820px;">
        <div class="code-header">
          <span class="code-dot red"></span>
          <span class="code-dot yellow"></span>
          <span class="code-dot green"></span>
          <span class="code-filename">Smooth Lane Logic (inside Update)</span>
        </div>
        <div class="code-body"><pre><span class="cm">// Calculate target X from desired lane</span>
<span class="tp">float</span> targetX = (desiredLane - <span class="num">1</span>) * laneDistance;

<span class="cm">// Convert difference to velocity for smooth movement</span>
direction.x = (targetX - transform.position.x) * <span class="num">10f</span>;</pre></div>
      </div>
      <div class="card-grid anim d4">
        <div class="card">
          <div class="card-icon cyan">üìê</div>
          <h3>The Math</h3>
          <p><code>(desiredLane - 1) * laneDistance</code> maps lane <strong>0</strong> ‚Üí <strong>-4</strong>, lane <strong>1</strong> ‚Üí <strong>0</strong>, lane <strong>2</strong> ‚Üí <strong>+4</strong>. Simple and automatic.</p>
        </div>
        <div class="card">
          <div class="card-icon green">üéØ</div>
          <h3>Why Multiply by 10f?</h3>
          <p>The difference <code>(targetX - position.x)</code> shrinks as the player approaches the target. Multiplying by <strong>10</strong> controls how fast it converges ‚Äî smooth deceleration built-in.</p>
        </div>
        <div class="card">
          <div class="card-icon purple">üîó</div>
          <h3>One Movement System</h3>
          <p>Both forward (<code>direction.z</code>) and lateral (<code>direction.x</code>) movement go through the same <code>controller.Move()</code> in FixedUpdate ‚Äî no conflicts.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 10: THE VIBRATION PROBLEM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="10">
    <div class="slide-inner">
      <div class="anim d1 slide-number">‚ö† Common Bug</div>
      <h2 class="anim d1">The Vibration Problem</h2>
      <p class="anim d2" style="max-width: 750px; margin-bottom: 20px;">Some tutorials use <code>Vector3.Lerp</code> to move the player directly via <code>transform.position</code>. This causes the player to <span class="highlight-m">vibrate or shake</span>. Here's why.</p>
      <div class="callout danger anim d3" style="max-width: 800px;">
        <div class="callout-title">üêõ Root Cause</div>
        <p>Two movement systems fight each other every frame:<br><br>
        <strong>1.</strong> <code>transform.position = Vector3.Lerp(...)</code> ‚Äî directly teleports the position<br>
        <strong>2.</strong> <code>controller.Move()</code> ‚Äî moves via CharacterController<br><br>
        The CharacterController doesn't allow external position changes, so it "corrects" the Lerp every frame ‚Üí <strong>vibration</strong>.</p>
      </div>
      <div class="split anim d4" style="margin-top: 24px;">
        <div class="card" style="border-color: rgba(255,64,129,0.25);">
          <h3>‚ùå Broken Approach</h3>
          <div class="code-block" style="margin: 10px 0 0;">
            <div class="code-body"><pre style="font-size:12.5px;"><span class="cm">// Setting position DIRECTLY ‚Äî fights controller</span>
transform.position = Vector3.<span class="fn">Lerp</span>(
    transform.position, targetPos,
    <span class="num">80</span> * Time.deltaTime
);</pre></div>
          </div>
        </div>
        <div class="card" style="border-color: rgba(105,240,174,0.25);">
          <h3>‚úÖ Our Approach</h3>
          <div class="code-block" style="margin: 10px 0 0;">
            <div class="code-body"><pre style="font-size:12.5px;"><span class="cm">// Feed lateral movement into direction.x</span>
<span class="tp">float</span> targetX = (desiredLane - <span class="num">1</span>) * laneDistance;
direction.x = (targetX - transform.position.x) * <span class="num">10f</span>;
<span class="cm">// controller.Move() handles everything</span></pre></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 11: FINAL CODE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="11">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Final ‚Äî Complete Script</div>
      <h2 class="anim d1">The Complete PlayerController Script</h2>
      <div class="code-block anim d2">
        <div class="code-header">
          <span class="code-dot red"></span>
          <span class="code-dot yellow"></span>
          <span class="code-dot green"></span>
          <span class="code-filename">PlayerController.cs ‚Äî Final Version</span>
        </div>
        <div class="code-body"><pre><span class="kw">using</span> UnityEngine;

<span class="kw">public class</span> <span class="tp">PlayerController</span> : <span class="tp">MonoBehaviour</span>
{
    <span class="kw">private</span> <span class="tp">CharacterController</span> controller;
    <span class="kw">private</span> <span class="tp">Vector3</span> direction;
    <span class="kw">public</span> <span class="tp">float</span> forwardSpeed;

    <span class="kw">private</span> <span class="tp">int</span> desiredLane = <span class="num">1</span>;  <span class="cm">// 0:LEFT  1:MIDDLE  2:RIGHT</span>
    <span class="kw">public</span> <span class="tp">float</span> laneDistance = <span class="num">4</span>; <span class="cm">// the distance between two lanes</span>

    <span class="kw">void</span> <span class="fn">Start</span>()
    {
        controller = <span class="fn">GetComponent</span>&lt;<span class="tp">CharacterController</span>&gt;();
    }

    <span class="kw">void</span> <span class="fn">Update</span>()
    {
        direction.z = forwardSpeed;

        <span class="kw">if</span> (Input.<span class="fn">GetKeyDown</span>(KeyCode.RightArrow))
        {
            desiredLane++;
            <span class="kw">if</span> (desiredLane == <span class="num">3</span>)
                desiredLane = <span class="num">2</span>;
        }

        <span class="kw">if</span> (Input.<span class="fn">GetKeyDown</span>(KeyCode.LeftArrow))
        {
            desiredLane--;
            <span class="kw">if</span> (desiredLane == <span class="num">-1</span>)
                desiredLane = <span class="num">0</span>;
        }

        <span class="cm">// Smooth lane switching ‚Äî all through controller.Move()</span>
        <span class="tp">float</span> targetX = (desiredLane - <span class="num">1</span>) * laneDistance;
        direction.x = (targetX - transform.position.x) * <span class="num">10f</span>;
    }

    <span class="kw">private void</span> <span class="fn">FixedUpdate</span>()
    {
        controller.<span class="fn">Move</span>(direction * Time.deltaTime);
    }
}</pre></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 12: KEY TAKEAWAYS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="12">
    <div class="slide-inner">
      <div class="anim d1 slide-number">Summary</div>
      <h2 class="anim d1">Key Takeaways</h2>
      <div class="card-grid anim d2">
        <div class="card">
          <div class="card-icon cyan">üéØ</div>
          <h3>One Movement System</h3>
          <p>Never mix <code>transform.position</code> assignment with <code>CharacterController.Move()</code>. Funnel all movement through <code>controller.Move()</code>.</p>
        </div>
        <div class="card">
          <div class="card-icon magenta">‚è±</div>
          <h3>Update vs FixedUpdate</h3>
          <p>Gather input and compute direction in <code>Update()</code>. Apply movement in <code>FixedUpdate()</code> for consistent physics timing.</p>
        </div>
        <div class="card">
          <div class="card-icon green">üî¢</div>
          <h3>Lane Math Made Simple</h3>
          <p><code>targetX = (desiredLane - 1) * laneDistance</code> maps lane 0‚Üíleft, 1‚Üícenter, 2‚Üíright automatically.</p>
        </div>
        <div class="card">
          <div class="card-icon yellow">üßà</div>
          <h3>Velocity-Based Smoothing</h3>
          <p>Calculate the difference to target and multiply by a speed factor. The player naturally decelerates as it approaches ‚Äî no Lerp needed.</p>
        </div>
        <div class="card">
          <div class="card-icon purple">üõ°</div>
          <h3>Clamp Your Lanes</h3>
          <p>Always check boundaries: if <code>desiredLane</code> goes to 3 or -1, clamp it back. This prevents the player from leaving the ground.</p>
        </div>
        <div class="card">
          <div class="card-icon cyan">üéõ</div>
          <h3>Expose Speed Variables</h3>
          <p>Keep <code>forwardSpeed</code> and <code>laneDistance</code> public so you can tune them in the Unity Inspector without editing code.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 13: WHAT'S NEXT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" data-slide="13">
    <div class="slide-inner title-slide">
      <div class="anim d1 title-badge">Next Steps</div>
      <h1 class="anim d2" style="font-size: clamp(2rem, 4.5vw, 3.8rem);">What's Coming Next?</h1>
      <p class="anim d3 subtitle">Now that our player moves forward and switches lanes, the next tutorials will cover:</p>
      <div class="card-grid anim d4" style="max-width: 800px; text-align: left;">
        <div class="card">
          <div class="card-icon green">ü¶ò</div>
          <h3>Jumping &amp; Gravity</h3>
          <p>Add vertical movement with ground detection and gravity simulation.</p>
        </div>
        <div class="card">
          <div class="card-icon magenta">üì±</div>
          <h3>Swipe Controls</h3>
          <p>Replace arrow keys with touch swipe input for mobile gameplay.</p>
        </div>
        <div class="card">
          <div class="card-icon yellow">üß±</div>
          <h3>Obstacles &amp; Collision</h3>
          <p>Spawn obstacles and detect collisions for game-over logic.</p>
        </div>
        <div class="card">
          <div class="card-icon purple">üèÜ</div>
          <h3>Scoring System</h3>
          <p>Track distance, display score UI, and save high scores.</p>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- ‚îÄ‚îÄ‚îÄ NAVIGATION BAR ‚îÄ‚îÄ‚îÄ -->
<nav class="nav-bar" id="navBar">
  <div class="nav-progress" id="navProgress"></div>
  <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">
    <span>‚Üê</span> Prev
  </button>
  <div style="display:flex; align-items:center; gap:16px;">
    <div class="nav-dots" id="navDots"></div>
    <span class="nav-slide-count" id="slideCount"></span>
  </div>
  <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">
    Next <span>‚Üí</span>
  </button>
</nav>

<script>
  // ‚îÄ‚îÄ‚îÄ SLIDE NAVIGATION ‚îÄ‚îÄ‚îÄ
  const slides = document.querySelectorAll('.slide');
  const totalSlides = slides.length;
  let currentSlide = 0;

  function initDots() {
    const dotsContainer = document.getElementById('navDots');
    for (let i = 0; i < totalSlides; i++) {
      const dot = document.createElement('button');
      dot.className = 'nav-dot' + (i === 0 ? ' active' : '');
      dot.onclick = () => goToSlide(i);
      dotsContainer.appendChild(dot);
    }
  }

  function goToSlide(index) {
    if (index < 0 || index >= totalSlides) return;
    slides[currentSlide].classList.remove('active');
    currentSlide = index;
    slides[currentSlide].classList.add('active');
    updateNav();
  }

  function changeSlide(delta) {
    goToSlide(currentSlide + delta);
  }

  function updateNav() {
    const dots = document.querySelectorAll('.nav-dot');
    dots.forEach((d, i) => d.classList.toggle('active', i === currentSlide));
    document.getElementById('slideCount').textContent = `${currentSlide + 1} / ${totalSlides}`;
    document.getElementById('prevBtn').disabled = currentSlide === 0;
    document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
    const progress = ((currentSlide) / (totalSlides - 1)) * 100;
    document.getElementById('navProgress').style.width = progress + '%';
  }

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    // Only handle global nav if not on the lane diagram slide
    if (currentSlide === 7 && (e.key === 'ArrowLeft' || e.key === 'ArrowRight')) {
      // Lane demo handles these
      return;
    }
    if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') {
      e.preventDefault();
      changeSlide(1);
    }
    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
      e.preventDefault();
      changeSlide(-1);
    }
  });

  initDots();
  updateNav();

  // ‚îÄ‚îÄ‚îÄ LANE DIAGRAM INTERACTIVE ‚îÄ‚îÄ‚îÄ
  let demoLane = 1;

  function setLane(lane) {
    demoLane = Math.max(0, Math.min(2, lane));
    updateLaneDiagram();
  }

  function updateLaneDiagram() {
    const lanes = document.querySelectorAll('#laneDiagram .lane');
    const dot = document.getElementById('playerDot');
    lanes.forEach((l, i) => {
      l.classList.toggle('active-lane', i === demoLane);
    });
    // Position the dot
    const diagram = document.getElementById('laneDiagram');
    const laneEls = diagram.querySelectorAll('.lane');
    if (laneEls[demoLane]) {
      const laneRect = laneEls[demoLane].getBoundingClientRect();
      const diagramRect = diagram.getBoundingClientRect();
      dot.style.left = (laneRect.left - diagramRect.left + laneRect.width / 2) + 'px';
    }
  }

  // Arrow keys for lane demo when on slide 7
  document.addEventListener('keydown', (e) => {
    if (currentSlide !== 7) return;
    if (e.key === 'ArrowLeft') {
      e.preventDefault();
      setLane(demoLane - 1);
    }
    if (e.key === 'ArrowRight') {
      e.preventDefault();
      setLane(demoLane + 1);
    }
  });

  // Update lane positions on resize and initial load
  window.addEventListener('resize', updateLaneDiagram);
  setTimeout(updateLaneDiagram, 100);

  // Re-calculate dot position when slide 7 becomes active
  const observer = new MutationObserver(() => {
    if (currentSlide === 7) {
      setTimeout(updateLaneDiagram, 50);
    }
  });
  slides[7] && observer.observe(slides[7], { attributes: true, attributeFilter: ['class'] });
</script>
</body>
</html>